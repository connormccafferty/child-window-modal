<!DOCTYPE html>
<html>
  <head>
    <title>modal</title>
    <link rel="stylesheet" href="modal.css" />
  </head>
  <body>
    <button id="close">
      x
    </button>
    <p>Modal running on Version: <span id="of-version"></span></p>
  </body>
  <script>
    const ofVersion = document.getElementById("of-version");
    const closeBtn = document.getElementById("close");
    if (typeof fin !== "undefined") {
      closeBtn.addEventListener("click", async (e) => {
        e.preventDefault;
        await fin.Window.getCurrentSync().close();
      });
      fin.System.getVersion()
        .then((v) => (ofVersion.textContent = v))
        .catch(console.error);
    } else {
      ofVersion.textContent = "You are probably running in a browser.";
    }
  </script>
</html>
